<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="canonical" href="https://github.com/Waikato/weka-wiki/discretizing_datasets/">
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Discretizing datasets - Weka Wiki</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "Discretizing datasets";
    var mkdocs_page_input_path = "discretizing_datasets.md";
    var mkdocs_page_url = "/Waikato/weka-wiki/discretizing_datasets/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Weka Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../downloading_weka/">Downloading and installing Weka</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../requirements/">Requirements</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../documentation/">Documentation</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../getting_help/">Getting help</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../citing_weka/">Citing Weka</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../literature/">Literature</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../development/">Development</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Resources</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../not_so_faq/">Not so FAQ</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../using_the_api/">Using the API</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../extending_weka/">Extending Weka</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../formats_and_processing/arff/">ARFF Format</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../primer/">Primer</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../datasets/">Datasets</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../visualization_articles/">Visualization Articles</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../properties_file/">Properties File</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../packages/">Packages</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="../experimenter/experimenter/">Experimenter</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Weka Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
    
    <li>Discretizing datasets</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <p>Once in a while one has numeric data but wants to use classifier that handles only nominal values. In that case one needs to <em>discretize</em> the data, which can be done with the following filters:</p>
<ul>
<li><code>weka.filters.supervised.attribute.Discretize</code><blockquote>
<p>uses either Fayyad &amp; Irani's MDL method or Kononeko's MDL criterion</p>
</blockquote>
</li>
<li><code>weka.filters.unsupervised.attribute.Discretize</code><blockquote>
<p>uses simple binning</p>
</blockquote>
</li>
</ul>
<p>But, since discretization depends on the data which presented to the discretization algorithm, one easily end up with incompatible train and test files. The following shows how to generate compatible discretized files out of a training and a test file by using the <em>supervised</em> version of the filter.</p>
<p>The class takes four files as arguments:</p>
<ul>
<li>input training file</li>
<li>input test file</li>
<li>output training file</li>
<li>output test file</li>
</ul>
<pre><code class="language-java"> import java.io.*;

 import weka.core.*;
 import weka.filters.Filter;
 import weka.filters.supervised.attribute.Discretize;

 /**
  * Shows how to generate compatible train/test sets using the Discretize
  * filter.
  *
  * @author FracPete (fracpete at waikato dot ac dot nz)
  */
 public class DiscretizeTest {

   /**
    * loads the given ARFF file and sets the class attribute as the last
    * attribute.
    *
    * @param filename    the file to load
    * @throws Exception  if somethings goes wrong
    */
   protected static Instances load(String filename) throws Exception {
     Instances       result;
     BufferedReader  reader;

     reader = new BufferedReader(new FileReader(filename));
     result = new Instances(reader);
     result.setClassIndex(result.numAttributes() - 1);
     reader.close();

     return result;
   }

   /**
    * saves the data to the specified file
    *
    * @param data        the data to save to a file
    * @param filename    the file to save the data to
    * @throws Exception  if something goes wrong
    */
   protected static void save(Instances data, String filename) throws Exception {
     BufferedWriter  writer;

     writer = new BufferedWriter(new FileWriter(filename));
     writer.write(data.toString());
     writer.newLine();
     writer.flush();
     writer.close();
   }

   /**
    * Takes four arguments:

    * &lt;ol&gt;
    *   &lt;li&gt;input train file&lt;/li&gt;
    *   &lt;li&gt;input test file&lt;/li&gt;
    *   &lt;li&gt;output train file&lt;/li&gt;
    *   &lt;li&gt;output test file&lt;/li&gt;
    * &lt;/ol&gt;
    *
    * @param args        the commandline arguments
    * @throws Exception  if something goes wrong
    */
   public static void main(String[] args) throws Exception {
     Instances     inputTrain;
     Instances     inputTest;
     Instances     outputTrain;
     Instances     outputTest;
     Discretize    filter;

     * load data (class attribute is assumed to be last attribute)
     inputTrain = load(args[0]);
     inputTest  = load(args[1]);

     * setup filter
     filter = new Discretize();
     filter.setInputFormat(inputTrain);

     * apply filter
     outputTrain = Filter.useFilter(inputTrain, filter);
     outputTest  = Filter.useFilter(inputTest,  filter);

     * save output
     save(outputTrain, args[2]);
     save(outputTest,  args[3]);
   }
 }
</code></pre>
<p>The same can be achieved from the commandline with this command (<strong><a href="../batch_filtering/">batch filtering</a></strong>):</p>
<pre><code class="language-bash"> java weka.filters.supervised.attribute.Discretize -b -i &lt;in-train&gt; -o &lt;out-train&gt; -r &lt;in-test&gt; -s &lt;out-test&gt; -c &lt;class-index&gt;
</code></pre>
<h3 id="see-also">See also</h3>
<ul>
<li><a href="../using_the_mathexpression_filter/">Manual discretization (Using the MathExpression filter)</a></li>
<li><a href="../batch_filtering/">Batch filtering</a></li>
</ul>
<h3 id="downloads">Downloads</h3>
<ul>
<li><a href="../files/DiscretizeTest.java">DiscretizeTest.java</a></li>
</ul>
<h3 id="links">Links</h3>
<ul>
<li>Javadoc<ul>
<li><a href="https://weka.sourceforge.io/doc.stable-3-8/weka/filters/supervised/attribute/Discretize.html">Discretize (supervised)</a></li>
<li><a href="https://weka.sourceforge.io/doc.stable-3-8/weka/filters/unsupervised/attribute/Discretize.html">Discretize (unsupervised)</a></li>
</ul>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
