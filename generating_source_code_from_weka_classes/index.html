<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://github.com/Waikato/weka-wiki/generating_source_code_from_weka_classes/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Generating source code from weka classes - Weka Wiki</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Generating source code from weka classes";
        var mkdocs_page_input_path = "generating_source_code_from_weka_classes.md";
        var mkdocs_page_url = "/Waikato/weka-wiki/generating_source_code_from_weka_classes/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Weka Wiki
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../downloading_weka/">Downloading and installing Weka</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../requirements/">Requirements</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../documentation/">Documentation</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting_help/">Getting help</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../citing_weka/">Citing Weka</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../literature/">Literature</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../development/">Development</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Resources</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../faq/">FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../not_so_faq/">Not so FAQ</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../using_the_api/">Using the API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../extending_weka/">Extending Weka</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../formats_and_processing/arff/">ARFF Format</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../primer/">Primer</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../datasets/">Datasets</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../visualization_articles/">Visualization Articles</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../properties_file/">Properties File</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../packages/">Packages</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../experimenter/experimenter/">Experimenter</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Weka Wiki</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Generating source code from weka classes</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p>Some of the schemes in Weka can generate Java source code that represents their current internal state. At the moment these are classifiers (book and developer version) and filters (<a href="../snapshots/">snapshot</a> or &gt;3.5.6). The generated code can be used within Weka as normal classifier/filter, since this code will be derived from the same superclass (<code>weka.classifiers.Classifier</code> or <code>weka.filters.Filter</code>) as the generating code.</p>
<p><strong>Note:</strong> The commands listed here are for a Linux/Unix bash (the backslash tells the shell that the command isn't finished yet and continues on the next line). In case of Windows or the SimpleCLI, just remove the backslashes and put everything on one line.</p>
<h3 id="classifiers">Classifiers<a class="headerlink" href="#classifiers" title="Permanent link">#</a></h3>
<p>Instead of using a serialized filter to perform further classifications/predictions, one can also obtain source code from a trained classifier and use this instead. The advantage of this is being less dependent on version changes and incompatible serialized files. All classifiers implementing the <code>weka.classifiers.Sourcable</code> interface can turn their model into Java source code (check the Javadoc of this interface for all the classifiers implementing it).</p>
<p>Here's an example of generating source code from a trained <code>J48</code> (the source code is saved in a file called <code>WekaWrapper.java</code>):</p>
<pre><code class="language-bash"> java weka.classifiers.trees.J48 \
   -t /some/where/data.arff \
   -z SourcedJ48 \                  # name of the inner class, gets called by wrapper class WekaWrapper
   &gt; /else/where/WekaWrapper.java   # redirecting the output of the code into a file
</code></pre>
<p>The package of the wrapper class is by default the <code>weka.classifiers</code> package. Make sure that you place the source code and/or class files in the correct location. The generated classifier can be used from the commandline or GUI like any other classifier within Weka, you only need to make sure that your <a href="../generic_object_editor/">GenericObjectEditor</a> lists the package you place the classifier in (<code>weka.classifiers</code> is <strong>not</strong> listed by default).</p>
<p>The following command calls the generated classifier with a training set (training has no effect, of course) and outputs the predictions for this dataset to <code>stdout</code>:</p>
<pre><code class="language-bash"> java weka.classifiers.WekaWrapper \
   -t /some/file.arff \
   -p 0                  # output predictions for training set
</code></pre>
<p><strong>Note:</strong> the Explorer can output source code as well, you only have to check the <em>Output source code</em> option in the <em>More options</em> dialog.</p>
<h3 id="filters">Filters<a class="headerlink" href="#filters" title="Permanent link">#</a></h3>
<p>With versions of Weka later than 3.5.6 or a <a href="../snapshots/">snapshot</a> of the developer version, one can now also turn filters into source code. The process is basically the same as with classifiers outlined above. All filters that implement the <code>weka.filters.Sourcable</code> interface can be turned into Java code (again, check out the Javadoc for this interface, to see the filters implementing it).</p>
<p>The following command turns an initialized ReplaceMissingValues filter into source code:</p>
<pre><code class="language-bash"> java weka.filters.unsupervised.attribute.ReplaceMissingValues \
   -i /somewhere1/input.arff \
   -o /somewhere2/output.arff \
   -z SourcedRMV \                   # name of the inner class, gets called by wrapper class WekaWrapper
   &gt; /some/place/WekaWrapper.java    # redirecting the output of the code into a file
</code></pre>
<p>The package of the wrapper class is by default the <code>weka.filters</code> package. Make sure that you place the source code and/or class files in the correct location. The generated filter can be used from the commandline or GUI like any other filter within Weka, you only need to make sure that your <a href="../generic_object_editor/">GenericObjectEditor</a> lists the package you place the filter in.</p>
<p>And again a little demonstration of how to call the generated source code:</p>
<pre><code class="language-bash"> java weka.filters.WekaWrapper \
   -i /some/where/input.arff \     # must have the same structure as **/somewhere1/input.arff**, of course
   -o /other/place/output.arff 
</code></pre>
<h3 id="see-also">See also<a class="headerlink" href="#see-also" title="Permanent link">#</a></h3>
<ul>
<li><a href="../serialization/">Serialization</a> - can be used for all classifiers and filters to save them in a persistent state.</li>
</ul>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
